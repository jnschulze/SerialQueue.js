!function(a,b){var c=b(),d="function"==typeof define&&define.amd,e="undefined"!=typeof module&&module.exports;d?define(c):e?module.exports=c:this[a]=c}("SerialQueue",function(){"use strict";var a=function(a){this._running=!1,this._worker=a,this._q=[]};return a.prototype={constructor:a,push:function(a,b){this._q.push({item:a,worker:b}),this._run()},_runNext:function(a){var b=this,c=function(){if(b._q.length){var d=b._q.shift();(d.worker||b._worker)(d.item,c)}else a()};c()},_run:function(){var a=this;a._running||(a._running=!0,a._runNext(function(){a._running=!1}))}},a});